{{ define "main" }}

{{/* HERO BÖLÜMÜ */}}
<section class="hero-section">
    <div class="hero-overlay"></div>
    <div class="hero-container">
        <h1 class="hero-title">Hayal Et, Tasarla, Gerçeğe Dönüştür</h1>
        <p class="hero-subtitle">3D baskı dünyasına ilk adımınızı atın, projelerinizi hayata geçirin ve yaratıcılığınızın sınırlarını zorlayın.</p>
        <a href="/buradan-basla/" class="hero-button">BURADAN BAŞLA</a>
    </div>
</section>

<div class="homepage-content">

    {{/* BÖLÜM 1: EN ÇOK OKUNANLAR */}}
    {{ $featured_pages := where .Site.RegularPages "Params.featured" true }}
    {{ if $featured_pages }}
        <h2 class="homepage-section-title">En Çok Okunanlar</h2>
        <div class="featured-posts-grid">
            {{ range $featured_pages }}
                {{ .Render "summary-card-featured" }}
            {{ end }}
        </div>
        <hr class="section-divider">
    {{ end }}

    {{/* BÖLÜM 2: ÖNE ÇIKAN KATEGORİ (BAŞLANGIÇ REHBERİ) */}}
    <section class="featured-category-section">
        <div class="featured-category-image">
            <img src="/images/baslangic-rehberi-kategori.png" alt="3D baskı dünyasına ilk adımı atan bir kişi">
        </div>
        <div class="featured-category-content">
            <h2 class="homepage-section-title no-border">Başlangıç Rehberi</h2>
            <p>3D baskı dünyasına ilk adımınızı mı atıyorsunuz? Bu bölümde, doğru yazıcıyı seçmekten ilk başarılı baskınızı almaya kadar bilmeniz gereken her şeyi adım adım anlatan rehberler bulacaksınız.</p>
            <a href="{{ "categories/başlangıç-rehberi" | absURL }}" class="btn">Rehberlere Göz At →</a>
        </div>
    </section>
    <hr class="section-divider">

    {{/* BÖLÜM 3: ÖNE ÇIKAN KATEGORİ (PARA KAZANMA) */}}
    <section class="featured-category-section layout-reverse">
        <div class="featured-category-image">
            <img src="/images/para-kazanma-kategori.png" alt="3D baskı ile para kazanma konsepti">
        </div>
        <div class="featured-category-content">
            <h2 class="homepage-section-title no-border">3D Baskı ile Para Kazanma</h2>
            <p>Hobinizi bir gelir kapısına dönüştürmek mi istiyorsunuz? Bu bölümde, 3D baskı ile nasıl pasif gelir elde edeceğinizi, hangi ürünlerin satıldığını ve kendi işinizi nasıl kurabileceğinizi anlatan rehberler bulacaksınız.</p>
            <a href="{{ "categories/para-kazanma" | absURL }}" class="btn">Tümünü Keşfet →</a>
        </div>
    </section>
    <hr class="section-divider">


    {{/* BÖLÜM 4: DİĞER KONULARI KEŞFET (Farklı İkonlarla) */}}
    <section class="icon-category-section">
        <h2 class="homepage-section-title">Diğer Konuları Keşfet</h2>
        <div class="icon-grid">
            {{/* Sitedeki tüm kategorileri otomatik olarak listeler ve her birine özel ikon atar */}}
            {{ range .Site.Taxonomies.categories.ByCount }}
            <a href="{{ .Page.Permalink }}" class="icon-grid-item">
                <span class="icon">
                    {{ if eq .Page.Title "Para Kazanma" }}💰
                    {{ else if eq .Page.Title "Teknik İpuçları" }}💡
                    {{ else if eq .Page.Title "Yazıcı İncelemeleri" }}🔧
                    {{ else if eq .Page.Title "Tasarım" }}🎨
                    {{ else if eq .Page.Title "Başlangıç Rehberi" }}🚀
                    {{ else if eq .Page.Title "Kaynaklar" }}📚
                    {{ else if eq .Page.Title "İleri Seviye" }}🎓
                    {{ else if eq .Page.Title "Girişimcilik" }}📈
                    {{ else if eq .Page.Title "Teknoloji Karşılaştırma" }}⚖️
                    {{ else if eq .Page.Title "Temel Bilgi ve Kurulum" }}🔌
                    {{ else if eq .Page.Title "Beceri Geliştirme ve İleri Teknikler" }}🧠
                    {{ else }}📂
                    {{ end }}
                </span>
                <h3>{{ .Page.Title }}</h3>
            </a>
            {{ end }}
            
            {{/* En sona sabit 'Tüm Kategoriler' linkini ekler */}}
            <a href="{{ "/categories/" | relLangURL }}" class="icon-grid-item all-categories-link">
                <span class="icon">🗂️</span>
                <h3>Tüm Kategoriler</h3>
            </a>
        </div>
    </section>
     <hr class="section-divider">

    {{/* BÖLÜM 5: EN SON YAZILAR */}}
    <section class="latest-posts-section">
        <h2 class="homepage-section-title">En Son Yazılar</h2>
        <div class="all-posts-grid">
            {{ $paginator := .Paginate (where .Site.RegularPages "Type" "in" .Site.Params.mainSections) 6 }}
            {{ range $paginator.Pages }}
                {{ .Render "summary-card-compact" }}
            {{ end }}
        </div>
    </section>

</div>

{{ end }}