{{ define "main" }}

{{/* Değişken Tanımlama: Bu sayfada İçindekiler menüsü gösterilecek mi? */}}
{{ $showToc := and .TableOfContents (ne .Params.showToc false) }}

{{/* Ana Yapı: İçindekiler menüsü varsa iki sütunlu, yoksa tek sütunlu sınıfı ata */}}
<div class="{{ if $showToc }}post-layout-wrapper{{ else }}post-layout-wrapper-full{{ end }}">
    
    {{/* --- SOL SÜTUN: İÇİNDEKİLER (TOC) --- */}}
    {{ if $showToc }}
        <aside class="post-toc-sidebar">
            <div class="sticky-toc">
                <strong>İçindekiler</strong>
                {{ .TableOfContents }}
            </div>
        </aside>
    {{ end }}

    {{/* --- ANA İÇERİK ALANI --- */}}
    <article class="post-single">
        <header class="post-header">
            {{ partial "breadcrumbs.html" . }}
            <h1 class="post-title">{{ .Title }}</h1>
            {{- if .Description }}<div class="post-description">{{ .Description }}</div>{{- end }}
            {{- if not .Params.hidemeta }}
            <div class="post-meta">
                <span>{{ partial "format-turkish-date.html" .Date }}</span>· 
                <span>{{ .ReadingTime }} dk okuma</span>
                {{- with .Params.categories -}}· <span class="post-categories">{{- range . -}}<a href="{{ "categories/" | absURL }}{{ . | urlize }}/">{{- . -}}</a>{{- end -}}</span>{{- end -}}
            </div>
            {{- end }}
        </header>
        
        {{- if .Params.cover.image -}}
        <div class="post-cover">
            <img src="{{ .Params.cover.image | absURL }}" alt="{{ .Params.cover.alt | default .Title }}">
            {{- if .Params.cover.caption }}<p class="post-cover-caption">{{ .Params.cover.caption }}</p>{{- end -}}
        </div>
        {{- end -}}
    
        <div class="post-content">
            {{ .Content }}
        </div>
    
        <footer class="post-footer">
            {{- with .Params.tags -}}
                <ul class="post-tags">
                    {{- range . -}}
                    <li><a href="{{ "tags/" | absURL }}{{ . | urlize }}/">{{ . }}</a></li>
                    {{- end -}}
                </ul>
            {{- end -}}

            {{- if and .Site.Params.ShowShareButtons (ne .Params.disableShare true) -}}
                {{- partial "share_icons.html" . -}}
            {{- end -}}
        </footer>
    
        {{- partial "related.html" . -}}

        {{- if .Params.comments }}
        <div id="comments" style="margin-top: 40px;">
            <hr><h2>Yorumlar</h2>
            <script src="https://giscus.app/client.js" data-repo="uurk55/uurk55.github.io" data-repo-id="R_kgDOMX0zYw" data-category="Announcements" data-category-id="DIC_kwDOMX0zY84CfIeL" data-mapping="pathname" data-strict="0" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="light" data-lang="tr" crossorigin="anonymous" async></script>
        </div>
        {{- end -}}
        
    </article>
</div>

{{ end }}